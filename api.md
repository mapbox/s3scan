<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [s3scan.List](#s3scanlist)
-   [s3scan.Get](#s3scanget)
-   [s3scan.Delete](#s3scandelete)
-   [s3scan.Scan](#s3scanscan)
-   [s3scan.Purge](#s3scanpurge)
-   [s3scan.Copy](#s3scancopy)

## s3scan.List

Provides a readable stream of keys beneath the provided S3 prefix

**Parameters**

-   `s3url` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** an S3 uri of the type `s3://bucket/prefix`
-   `options` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** options to provide to the readable stream
    -   `options.agent` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** an HTTPS agent to use for S3 requests
    -   `options.s3` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** an S3 client to use to make requests

**Examples**

```javascript
require('s3scan').List('s3://my-bucket/my-key')
  .pipe(process.stdout);
```

Returns **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** a readable stream of line-delimited keys

## s3scan.Get

Provides a transform stream that expects you to write line-delimited S3 keys
into it, and transforms them into a readable stream of S3.getObject responses

**Parameters**

-   `bucket` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** the S3 bucket from which to fetch keys
-   `options` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** options to provide to the transform stream
    -   `options.agent` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** an HTTPS agent to use for S3 requests
    -   `options.s3` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** an S3 client to use to make requests
    -   `options.passErrors` **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)?** if `true`, any error objects encountered
        will be passed into the readable stream
    -   `options.keys` **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)?** if `true`, `.RequestParameters` (bucket and key)
        will be attached to the objects passed into the readable stream
    -   `options.gunzip` **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)?** if `true`, gunzip each object body
    -   `options.body` **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)?** if `true` stream only the object body from response objects
    -   `options.concurrency` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)?** concurrency at which to request objects

**Examples**

```javascript
require('s3scan').Get('my-bucket')
  .on('data', function(d) {
    console.log(JSON.stringify(d));
  })
  .write('some-key\n');
```

Returns **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** a transform stream

## s3scan.Delete

Provides a writable stream that expects you to write line-delimited S3 keys
into it, and performs an S3.deleteObject request on each key

**Parameters**

-   `bucket` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** the S3 bucket from which to fetch keys
-   `options` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** options to provide to the writable stream
    -   `options.agent` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** an HTTPS agent to use for S3 requests
    -   `options.s3` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** an S3 client to use to make requests
    -   `options.concurrency` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)?** concurrency at which to delete objects

**Examples**

```javascript
require('s3scan').Delete('my-bucket')
  .write('some-key\n');
```

Returns **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** a writable stream

## s3scan.Scan

Provides a readable stream of S3.getObject responses for all keys beneath the
provided S3 prefix

**Parameters**

-   `s3url` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** an S3 uri of the type `s3://bucket/prefix`
-   `options` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** configuration options
    -   `options.agent` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** an HTTPS agent to use for S3 requests
    -   `options.s3` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** an S3 client to use to make requests
    -   `options.concurrency` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)?** concurrency at which to request objects
    -   `options.passErrors` **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)?** if `true`, any error objects encountered
        will be passed into the readable stream
    -   `options.keys` **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)?** if `true`, `.RequestParameters` (bucket and key)
        will be attached to the objects passed into the readable stream

**Examples**

```javascript
require('s3scan').Scan('s3://my-bucket/my-key')
  .on('data', function(d) {
    console.log(JSON.stringify(d));
  });
```

Returns **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** a readable stream

## s3scan.Purge

Deletes all objects beneath an S3 prefix

**Parameters**

-   `s3url` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** an S3 uri of the type `s3://bucket/prefix`
-   `options` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** configuration options
    -   `options.agent` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** an HTTPS agent to use for S3 requests
    -   `options.s3` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** an S3 client to use to make requests
    -   `options.concurrency` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)?** concurrency at which to delete objects
-   `callback` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)?** a function to run on error or on completion of deletes

**Examples**

```javascript
require('s3scan').Purge('s3://my-bucket/my-key', function(err) {
  if (err) throw err;
  console.log('deleted all the things!');
});
```

Returns **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** a writable stream

## s3scan.Copy

Provides a writable stream that accepts keys and copies them to another location.

**Parameters**

-   `fromBucket` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** the bucket to copy objects from
-   `toBucket` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** the bucket to copy objects into
-   `keyTransform` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)?** a function to transform keys. The
    function you provide should accept a source key and synchronously return the
    desired destination key. If not provided, objects in the `fromBucket` will be
    copied to the `toBucket` as-is.
-   `options` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** options to provide to the writable stream.
    -   `options.agent` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** an HTTPS agent to use for S3 requests
    -   `options.s3` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** an S3 client to use to make requests
    -   `options.concurrency` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)?** concurrency at which to copy objects

Returns **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** a writable stream
